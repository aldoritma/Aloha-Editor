// Generated by CoffeeScript 1.3.3

/*
@name contenthandler
*/


(function() {

  define(['jquery', 'aloha/plugin', 'aloha/contenthandlermanager'], function($, Plugin, ContentHandlerManager) {
    return Plugin.create('cnxmlplus-handler', {
      /*
          Will simply register the default content handlers.
      
          @override
      */

      init: function() {
        var handler;
        handler = ContentHandlerManager.createHandler({
          handleContent: function(content) {
            return '<h2>Hello. a heading was just pasted</h2>';
          }
        });
        ContentHandlerManager.register('cnxmlplus', handler);
        return Aloha.bind('aloha-smart-content-changed', function(evt, options) {
          var $root, content;
          if (options.triggerType !== 'paste') {
            return;
          }
          $root = options.editable.obj;
          return content = options.getSnapshotContent();
        });
      }
    });
  });

}).call(this);
